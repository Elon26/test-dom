"use strict";const cardBody=document.querySelector(".cards__body");let n=0,topOrder=0;function createCards(t){let e=topOrder++;n++,sendRequest("https://domotekhnika.ru/api/v1/news?page="+n).then((n=>{let r=0,c=n.data.news;for(let n=0;n<c.length;n++){const o=c[n],d=o.image,s=o.shortText,a=o.datePublish;let i=0;if(d){r++,i=r<10?+(String(e)+"0"+String(r)):+(String(e)+String(r));const n=document.createElement("div");cardBody.append(n),n.outerHTML=`\n\t\t\t\t\t\t<div class="cards__card card" style="order: ${i}">\n\t\t\t\t\t\t\t<div class="card__body">\n\t\t\t\t\t\t\t\t<div href="" class="card__img">\n\t\t\t\t\t\t\t\t\t<img src="${d}" alt="">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div href="" class="card__text">${s}</div>\n\t\t\t\t\t\t\t\t<div class="card__footer card__footer_${t}">\n\t\t\t\t\t\t\t\t\t<div class="card__icon icon-${t}"> </div>\n\t\t\t\t\t\t\t\t\t<div class="card__date">${convertDate(a)}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}}}))}function sendRequest(t){return fetch(t).then((t=>{if(t.ok)return t.json()}))}const convertDate=t=>{const e=new Date(t),n=e.getDate();let r="";r=1==String(n).length?"0"+n:n;const c=e.getMonth()+1;let o="";o=1==String(c).length?"0"+c:c;return`${r}.${o}.${e.getFullYear()} Ð³.`};createCards("green");const greenButton=document.querySelector(".button_green"),pinkButton=document.querySelector(".button_pink"),yellowButton=document.querySelector(".button_yellow");greenButton.addEventListener("click",(function(t){createCards("green")})),pinkButton.addEventListener("click",(function(t){createCards("pink")})),yellowButton.addEventListener("click",(function(t){createCards("yellow")}));const searchInput=document.querySelector(".search__input");searchInput.addEventListener("input",(function(t){let e=searchInput.value,n=document.querySelectorAll(".card__text");for(let t=0;t<n.length;t++){const r=n[t];n[t].innerHTML.toLowerCase().includes(e.toLowerCase())?r.closest(".card").classList.remove("invisible"):r.closest(".card").classList.add("invisible")}}));