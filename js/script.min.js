"use strict";const cardBody=document.querySelector(".cards__body");let n=0,topOrder=0;function createCards(t){let e=topOrder++;n++,sendRequest("https://domotekhnika.ru/api/v1/news?page="+n).then((n=>{let r=0,c=n.data.news;for(let n=0;n<c.length;n++){const o=c[n],s=o.image,d=o.shortText,i=o.datePublish;let a=0;if(s){r++,a=r<10?+(String(e)+"0"+String(r)):+(String(e)+String(r));const n=document.createElement("div");cardBody.append(n),n.outerHTML=`\n\t\t\t\t\t\t<div class="cards__card card" style="order: ${a}">\n\t\t\t\t\t\t\t<div class="card__body">\n\t\t\t\t\t\t\t\t<div href="" class="card__img">\n\t\t\t\t\t\t\t\t\t<img src="${s}" alt="">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div href="" class="card__text">${d}</div>\n\t\t\t\t\t\t\t\t<div class="card__footer card__footer_${t}">\n\t\t\t\t\t\t\t\t\t<div class="card__icon icon-${t}"> </div>\n\t\t\t\t\t\t\t\t\t<div class="card__date">${convertDate(i)}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}}}))}function sendRequest(t){return fetch(t).then((t=>{if(t.ok)return t.json()}))}function convertDate(t){let e,n,r=t.slice(0,4),c=t.slice(5,7),o=t.slice(8,10);return e="0"===o.slice(0,1)?o.slice(1,2):o,"01"===c?n="января":"02"===c?n="февраля":"03"===c?n="марта":"04"===c?n="апреля":"05"===c?n="мая":"06"===c?n="июня":"07"===c?n="июля":"08"===c?n="августа":"09"===c?n="сентября":"10"===c?n="октября":"11"===c?n="ноября":"12"===c&&(n="декабря"),`${e} ${n} ${r} г.`}createCards("green");const greenButton=document.querySelector(".button_green"),pinkButton=document.querySelector(".button_pink"),yellowButton=document.querySelector(".button_yellow");greenButton.addEventListener("click",(function(t){createCards("green")})),pinkButton.addEventListener("click",(function(t){createCards("pink")})),yellowButton.addEventListener("click",(function(t){createCards("yellow")}));const searchInput=document.querySelector(".search__input");searchInput.addEventListener("input",(function(t){let e=searchInput.value,n=document.querySelectorAll(".card__text");for(let t=0;t<n.length;t++){const r=n[t];n[t].innerHTML.toLowerCase().includes(e.toLowerCase())?r.closest(".card").classList.remove("invisible"):r.closest(".card").classList.add("invisible")}}));